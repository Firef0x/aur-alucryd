# Maintainer: Alucryd <alucryd at gmail dot com>

pkgname=steam-skin-faience-git
pkgver=20130116
pkgrel=1
pkgdesc="WIP Faience skin for Steam Linux (highly unusable for now)"
arch=('any')
license=('GPL3')
url="https://github.com/Alucryd/steam-skin-faience"
depends=('steam')
optdepends=('steam-skin-manager: Easy skin installation')

_gitroot="https://github.com/Alucryd/steam-skin-faience.git"
_gitname="steam-skin-faience"

build () {
	cd "${srcdir}"
	msg "Connecting to the GIT server..."
	if [[ -d ${srcdir}/${_gitname} ]] ; then
		cd "${_gitname}"
		git pull origin
		msg "The local files are updated..."
	else
		git clone ${_gitroot} ${_gitname}
		cd "${_gitname}"
	fi
	msg "GIT checkout done."
}

package() {
	cd "${srcdir}/${_gitname}"
	mkdir -p "${pkgdir}/usr/share/steam/skins/Faience/with-buttons"
	cp -R * "${pkgdir}/usr/share/steam/skins/Faience/with-buttons/"

# Fix permissions
	find "${pkgdir}" -type d -print0 | xargs -0 chmod 755
	find "${pkgdir}" -type f -print0 | xargs -0 chmod 644
}
