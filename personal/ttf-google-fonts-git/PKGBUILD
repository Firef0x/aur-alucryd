# Maintainer: Maxime Gauduin <alucryd@gmail.com>
# Contributor: Sebastian Stammler <stammler.s@gmail.com>
# Contributor: Sarkasper <kasper.menten@gmx.com>
# Contributor: Daniel Micay <danielmicay@gmail.com>
# Contributor: Michalis Georgiou <mechmg93@gmail.com>

pkgname=ttf-google-fonts-git
pkgver=37
pkgrel=1
pkgdesc='Google Fonts catalogue'
arch=('any')
url='https://github.com/w0ng/googlefontdirectory'
license=('Apache' 'custom:OFL')
depends=('fontconfig' 'xorg-fonts-encodings' 'xorg-mkfontdir' 'xorg-mkfontscale')
makedepends=('git')
provides=("${pkgname%-*}" 'cantarell-fonts' 'jsmath-fonts' 'lohit-fonts' 'oldstand-font' 'otf-goudy' 'ttf-andika' 'ttf-anonymous-pro' 'ttf-cantarell' 'ttf-cardo' 'ttf-chromeos-fonts' 'ttf-comfortaa' 'ttf-droid' 'ttf-google-webfonts-hg' 'ttf-inconsolata' 'ttf-kimberly_geswein_print' 'ttf-medievalsharp' 'ttf-nova' 'ttf-oldstandard' 'ttf-opensans' 'ttf-oxygen' 'ttf-pt-mono' 'ttf-ptsans' 'ttf-pt-sans' 'ttf-roboto' 'ttf-sil-fonts' 'ttf-sortsmillgoudy' 'ttf-source-code-pro' 'ttf-source-sans-pro' 'ttf-ubuntu-font-family' 'ttf-vollkorn')
conflicts=("${provides}")
install="${pkgname%-*}.install"
source=("${pkgname%-*}::git+${url}.git"
        'OFL.txt')
sha256sums=('SKIP'
            'ca122f3bda0154f692817450168cb650a7fc59ef96c93582acd2e7a744d464d3')

pkgver() {
  cd ${pkgname%-*}

  printf "r%s.%s" "$(git rev-list --count HEAD)" "$(git rev-parse --short HEAD)"
}

package() {
  cd ${pkgname%-*}

  install -dm 755 "${pkgdir}"/usr/share/fonts
  cp -dr --no-preserve='ownership' fonts "${pkgdir}"/usr/share/fonts/TTF

# License
  install -dm 755 "${pkgdir}"/usr/share/licenses/${pkgname}
  install -m 644 ../OFL.txt "${pkgdir}"/usr/share/licenses/${pkgname}/
}

# vim: ts=2 sw=2 et:
